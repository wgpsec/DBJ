<h1 align="center">DBJå¤§å®å‰‘ ğŸ—¡</h1>

![](https://img.shields.io/badge/ReaTeam-%E6%AD%A6%E5%99%A8%E5%BA%93-red) ![](https://img.shields.io/badge/license-GPL--3.0-orange) ![](https://img.shields.io/badge/version-1.0.1-brightgreen) ![](https://img.shields.io/badge/author-wintrysec%20%E6%B8%A9%E9%85%92-blueviolet) ![](https://img.shields.io/badge/WgpSec-%E7%8B%BC%E7%BB%84%E5%AE%89%E5%85%A8%E5%9B%A2%E9%98%9F-blue)

### å®šä½ï¼šè¾¹ç•Œèµ„äº§æ¢³ç†å·¥å…·

> å¤§å®å‰‘çš„å¯“æ„ï¼šæ”»é˜²åˆ©åˆƒï¼Œç®€åŒ–ç¹çæ“ä½œè§£æ”¾åŒæ‰‹ï¼Œä¸€é”®å¤§ä¿å¥~

![](data/readme/image-20210828005319371.png)

## åŠŸèƒ½ç®€ä»‹

bilibiliè§†é¢‘åœ°å€ï¼ˆä¸æ–¹ä¾¿æ‹¿å®é™…ç›®æ ‡æ¼”ç¤ºï¼Œå–æ¶ˆè§†é¢‘æ¼”ç¤ºï¼‰

![](data/readme/image-20210917102812370.png)



#### ä¼ä¸šç»„ç»‡æ¶æ„æŸ¥è¯¢

1ã€è¾“å…¥ä¼ä¸šå…³é”®å­—ï¼Œè‡ªåŠ¨æŸ¥è¯¢ä¼ä¸šçš„ç»„ç»‡æ¶æ„ï¼ˆç½‘ç«™é¦–é¡µã€é‚®ç®±ã€ç”µè¯ã€æŠ•èµ„å æ¯”ï¼‰

2ã€é»˜è®¤æŸ¥è¯¢ä¸€çº§å•ä½å’ŒäºŒçº§å•ä½ï¼Œå¦‚éœ€æŸ¥è¯¢ä¸‰çº§å•ä½ï¼Œå°†äºŒçº§å•ä½å…³é”®å­—è¾“å…¥æŸ¥è¯¢å³å¯

3ã€ä¸€çº§åŸŸåç»Ÿè®¡ï¼Œæ ¹æ®æ‰€æœ‰çš„ä¸€çº§å’ŒäºŒçº§å•ä½çš„åç§°è¿›è¡ŒWhoiså’ŒICPå¤‡æ¡ˆæŸ¥è¯¢å¹¶ç»Ÿè®¡ä¸€çº§åŸŸå

4ã€æŸ¥è¯¢ç»“æœç¼“å­˜åœ¨Redisï¼Œå¯å¯¼å‡ºä¸ºCSVè¡¨æ ¼

![](data/readme/image-20210828011309673.png)



#### å­åŸŸåèµ„äº§æ¢³ç†

**ä»»åŠ¡æ ¼å¼**

```bash
#å¡«å†™ä¸€çº§åŸŸå
baidu.com
```

FOFA-APIã€httpsè¯ä¹¦ã€DNSçˆ†ç ´ç­‰æ–¹å¼è·å–å­åŸŸåèµ„äº§ï¼Œè‡ªåŠ¨åˆ¤æ–­CDNã€‚

**è¾¹ç•ŒIP&Webèµ„äº§æ¢³ç†**

**ä»»åŠ¡æ ¼å¼**

```bash
#å¡«å†™å•ä¸ªIP æˆ– Cæ®µ
111.222.333.444
111.222.333.444/24
```

æ‰«æå•IPæˆ–Cæ®µä¸­Webåº”ç”¨ï¼Œå¹¶è¯†åˆ«WebæŒ‡çº¹

![image-20210311161144314](https://gitee.com/wintrysec/images/raw/master//image-20210311161144314.png)



**å¯¼å‡ºURL**

å¯¼å‡ºå…¨éƒ¨URLï¼Œæˆ–æ ¹æ®æŒ‡çº¹ç´¢å¼•åŒ¹é…èµ„äº§å¯¼å‡ºURLï¼Œç„¶åæ‰”åˆ°åˆ«çš„å·¥å…·æˆ–æ¼æ‰«é‡Œè¾¹è·‘

![image-20210311161942904](https://gitee.com/wintrysec/images/raw/master//image-20210311161942904.png)



#### WebæŒ‡çº¹è¯†åˆ«

è¯†åˆ«æ–¹å¼

> 1ï¼‰HTTP-Header åŒ¹é…å…³é”®å­—
>
> 2ï¼‰HTTP-Body åŒ¹é…å…³é”®å­—
>
> 3ï¼‰ICON_HASH åŒ¹é…å…³é”®å­—
>
> 4ï¼‰é”™è¯¯é¡µé¢ åŒ¹é…å…³é”®å­—
>
> 5ï¼‰ç‰¹æ®Šè·¯å¾„åŒ¹é…

WebæŒ‡çº¹è¯†åˆ«æ—¶å¹¶æœªå‘é€æ¶æ„è¯·æ±‚æ‰€ä»¥æ— éœ€ä»£ç†ã€‚



#### ICON_HASHè®¡ç®—

è®¡ç®—å›¾æ ‡çš„å“ˆå¸Œå€¼ï¼Œå¹¶è‡ªåŠ¨åŒ¹é…ç›¸å…³èµ„äº§

![image-20210311164827806](https://gitee.com/wintrysec/images/raw/master//image-20210311164827806.png)



#### POCæ’ä»¶æ¼æ‰«

> å¿«ï¼ç‹ ï¼å‡†ï¼

**æ³¨æ„ï¼ï¼ï¼**ï¼š**æ¼æ‰«åŠŸèƒ½éœ€è¦åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å¡«å†™æ­£ç¡®çš„æœºå™¨äººWebHookåœ°å€æ‰èƒ½ä½¿ç”¨ï¼Œæ”¯æŒé’‰é’‰å’Œé£ä¹¦**

![](data/readme/image-20210917130248282.png)

## å®‰è£…æ•™ç¨‹

### Docker å®‰è£…æ¨¡å¼

##### ä¸€ã€è‡ªå·±æ„å»ºé•œåƒ
```bash
git clone https://github.com/wgpsec/DBJ.git
cd DBJ
docker build -t dbj_img .							#æ„å»ºé•œåƒ
docker run -it -d --name dbj -p 5000:5000 dbj_img	#å¯åŠ¨å®¹å™¨

#å¦‚éœ€é‡æ–°å®‰è£…ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤å®¹å™¨
docker stop dbj
docker rm `docker ps -a -q` && docker rmi -f dbj_img && docker network prune -f
```


##### äºŒã€ç›´æ¥ä¸€é”®å¯åŠ¨

```bash
docker run -it -d --name dbj -p 5000:5000 xrsec/dbj:latest
```

è®¿é—® http://ip:5000 

##### ä¸‰ã€æŸ¥çœ‹è¾“å‡ºä¿¡æ¯

```bash
docker logs dbj
```

### æ‰‹åŠ¨å®‰è£…ï¼ˆCentosï¼‰

> æ­¤æ¨¡å¼é€‚åˆå¼€å‘è°ƒè¯•

##### ä¸€ã€åŸºç¡€ç¯å¢ƒå®‰è£…

å°†`DBJ`æ”¾ç½®åœ¨ç³»ç»Ÿæ ¹ç›®å½•`\`

```bash
mv /etc/yum.repos.d/CentOS-Linux-BaseOS.repo /etc/yum.repos.d/CentOS-Linux-BaseOS.repo.backup
curl -o /etc/yum.repos.d/CentOS-Linux-BaseOS.repo https://mirrors.aliyun.com/repo/Centos-8.repo
yum makecache

yum -y install yum-utils zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel libffi-devel gcc make redis

curl -O https://www.python.org/ftp/python/3.9.7/Python-3.9.7.tgz && tar xf Python-3.9.7.tgz;cd Python-3.9.7;./configure;make;make install

echo "alias python='/usr/local/bin/python3.9'" > /etc/profile.d/python.sh && source /etc/profile.d/python.sh

curl -O https://bootstrap.pypa.io/get-pip.py && python get-pip.py -i https://pypi.tuna.tsinghua.edu.cn/simple/

pip install Flask -i https://mirrors.aliyun.com/pypi/simple/

cat  > /etc/yum.repos.d/mongodb.repo << EOF
[mngodb-org]
name=MongoDB Repository
baseurl=http://mirrors.aliyun.com/mongodb/yum/redhat/7Server/mongodb-org/4.0/x86_64/
gpgcheck=0
enabled=1
EOF

yum makecache;yum -y install mongodb-org
pip install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/

mkdir -p /root/.config
cp -r /DBJ/data/.config/nuclei /root/.config/nuclei
chmod +x /DBJ/data/nuclei
ln -s /DBJ/data/nuclei /usr/bin/nuclei

```

è‹¥mongoDBéœ€è¦è®¤è¯

```bash
pkill mongod	#å…³é—­mongodb
mongod -f /etc/mongod.conf	#é‡æ–°å¯åŠ¨mongo
```

##### äºŒã€åˆ›å»ºæ•°æ®åº“åˆå§‹æ•°æ®

```bash
mongo 127.0.0.1:27017/webapp data.js

```

ä¸‰ã€å¯åŠ¨åº”ç”¨

```bash
sh centos.sh
```

ç„¶åæ‰“å¼€æµè§ˆå™¨è®¿é—® IP:5000 ç™»å½•å³å¯ï¼ˆé»˜è®¤è´¦æˆ·å¯†ç admin/adminï¼Œè¿›å»è‡ªå·±æ”¹ï¼‰


